<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Backlog Roadmap 2026 - M√≥dulo Talento</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #f8f9fa;
            padding: 30px;
            color: #2d3748;
        }
        
        .container {
            max-width: 1800px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px 40px;
        }
        
        .header h1 {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 8px;
        }
        
        .header .subtitle {
            font-size: 16px;
            opacity: 0.9;
        }
        
        .controls {
            padding: 30px 40px;
            background: #f8f9fa;
            border-bottom: 2px solid #e2e8f0;
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            align-items: center;
        }
        
        .control-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .control-group label {
            font-size: 12px;
            font-weight: 600;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .control-group select,
        .control-group input {
            padding: 8px 12px;
            border: 2px solid #e2e8f0;
            border-radius: 6px;
            font-size: 14px;
            background: white;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .control-group select:hover,
        .control-group input:hover {
            border-color: #667eea;
        }
        
        .control-group select:focus,
        .control-group input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .stats {
            display: flex;
            gap: 20px;
            margin-left: auto;
        }
        
        .stat-card {
            background: white;
            padding: 12px 20px;
            border-radius: 8px;
            border: 2px solid #e2e8f0;
            min-width: 120px;
        }
        
        .stat-label {
            font-size: 11px;
            color: #64748b;
            text-transform: uppercase;
            font-weight: 600;
            letter-spacing: 0.5px;
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: #1e293b;
            margin-top: 4px;
        }
        
        .table-container {
            overflow-x: auto;
            padding: 0 40px 40px 40px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
        }
        
        thead {
            background: #f8f9fa;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        th {
            padding: 16px 12px;
            text-align: left;
            font-weight: 700;
            color: #1e293b;
            border-bottom: 2px solid #e2e8f0;
            cursor: pointer;
            user-select: none;
            transition: background 0.2s;
        }
        
        th:hover {
            background: #f1f5f9;
        }
        
        th.sortable::after {
            content: " ‚Üï";
            opacity: 0.3;
            font-size: 12px;
        }
        
        th.sorted-asc::after {
            content: " ‚Üë";
            opacity: 1;
            color: #667eea;
        }
        
        th.sorted-desc::after {
            content: " ‚Üì";
            opacity: 1;
            color: #667eea;
        }
        
        td {
            padding: 14px 12px;
            border-bottom: 1px solid #f1f5f9;
        }
        
        tr {
            transition: background 0.2s;
        }
        
        tr:hover {
            background: #f8f9fa;
        }
        
        .tag {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }
        
        .tag.q1 {
            background: #dbeafe;
            color: #1e40af;
        }
        
        .tag.q2 {
            background: #e9d5ff;
            color: #6b21a8;
        }
        
        .tag.q3 {
            background: #fed7aa;
            color: #9a3412;
        }
        
        .tag.q4 {
            background: #d1fae5;
            color: #065f46;
        }
        
        .tipo-tag {
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .tipo-nuevo {
            background: #fef3c7;
            color: #78350f;
        }
        
        .tipo-mejora {
            background: #dbeafe;
            color: #1e40af;
        }
        
        .tipo-ux {
            background: #fce7f3;
            color: #9f1239;
        }
        
        .modulo-tag {
            background: #f1f5f9;
            color: #475569;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
        }
        
        .valor-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            font-weight: 700;
            font-size: 13px;
        }
        
        .valor-5 { background: #10b981; color: white; }
        .valor-4 { background: #3b82f6; color: white; }
        .valor-3 { background: #f59e0b; color: white; }
        .valor-2 { background: #ef4444; color: white; }
        
        .prioridad-bar {
            width: 100%;
            height: 6px;
            background: #e2e8f0;
            border-radius: 3px;
            overflow: hidden;
            position: relative;
        }
        
        .prioridad-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981 0%, #3b82f6 50%, #f59e0b 100%);
            transition: width 0.3s;
        }
        
        .prioridad-value {
            font-size: 12px;
            font-weight: 600;
            color: #64748b;
            margin-top: 4px;
        }
        
        .resumen {
            max-width: 600px;
            font-size: 13px;
            line-height: 1.5;
            color: #475569;
        }
        
        .no-results {
            text-align: center;
            padding: 60px 20px;
            color: #94a3b8;
        }
        
        .no-results-icon {
            font-size: 48px;
            margin-bottom: 16px;
        }
        
        .filters-active {
            background: #fef3c7;
            color: #78350f;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .clear-filters {
            background: white;
            border: 2px solid #e2e8f0;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .clear-filters:hover {
            background: #f8f9fa;
            border-color: #cbd5e1;
        }
        
        @media (max-width: 1400px) {
            .container {
                border-radius: 0;
            }
            
            body {
                padding: 0;
            }
            
            .table-container {
                overflow-x: scroll;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìã Backlog Roadmap 2026 - M√≥dulo Talento</h1>
            <div class="subtitle">Gesti√≥n de desarrollo competencial ‚Ä¢ 27 proyectos priorizados</div>
        </div>
        
        <div class="controls">
            <div class="control-group">
                <label>Filtrar por Quarter</label>
                <select id="quarterFilter">
                    <option value="">Todos los quarters</option>
                    <option value="Q1">Q1 2026</option>
                    <option value="Q2">Q2 2026</option>
                    <option value="Q3">Q3 2026</option>
                    <option value="Q4">Q4 2026</option>
                </select>
            </div>
            
            <div class="control-group">
                <label>Filtrar por Tipo</label>
                <select id="tipoFilter">
                    <option value="">Todos los tipos</option>
                    <option value="Nuevo">Nuevo</option>
                    <option value="Mejora">Mejora</option>
                    <option value="UX">UX</option>
                </select>
            </div>
            
            <div class="control-group">
                <label>Filtrar por Micro</label>
                <select id="microFilter">
                    <option value="">Todos</option>
                    <option value="Desarrollo">Desarrollo</option>
                    <option value="Comunicaci√≥n">Comunicaci√≥n</option>
                    <option value="Transversal">Transversal</option>
                </select>
            </div>
            
            <div class="control-group">
                <label>Filtrar por M√≥dulo</label>
                <select id="moduloFilter">
                    <option value="">Todos los m√≥dulos</option>
                    <option value="Consolidacion">Consolidaci√≥n</option>
                    <option value="Desarrollo continuo">Desarrollo continuo</option>
                    <option value="Evaluaciones">Evaluaciones</option>
                    <option value="Formacion">Formaci√≥n</option>
                    <option value="Informes">Informes</option>
                    <option value="Matriz">Matriz</option>
                    <option value="PDI">PDI</option>
                    <option value="Periodo">Per√≠odo</option>
                    <option value="Encuestas">Encuestas</option>
                </select>
            </div>
            
            <div class="control-group">
                <label>Buscar</label>
                <input type="text" id="searchInput" placeholder="Buscar en funcionalidad...">
            </div>
            
            <div class="control-group">
                <label>&nbsp;</label>
                <button class="clear-filters" onclick="clearFilters()">Limpiar filtros</button>
            </div>
            
            <div class="stats">
                <div class="stat-card">
                    <div class="stat-label">Total</div>
                    <div class="stat-value" id="totalCount">27</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Filtrados</div>
                    <div class="stat-value" id="filteredCount">27</div>
                </div>
            </div>
        </div>
        
        <div class="table-container">
            <table id="backlogTable">
                <thead>
                    <tr>
                        <th class="sortable" data-sort="tipo">Tipo</th>
                        <th class="sortable" data-sort="micro">Micro</th>
                        <th class="sortable" data-sort="modulo">M√≥dulo</th>
                        <th class="sortable" data-sort="funcionalidad">Funcionalidad</th>
                        <th class="sortable" data-sort="roadmap">Roadmap</th>
                        <th class="sortable" data-sort="valor">Valor</th>
                        <th>Resumen</th>
                        <th class="sortable" data-sort="esfuerzo">Esfuerzo</th>
                        <th class="sortable" data-sort="prioridad">Prioridad</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                    <!-- Data will be inserted here by JavaScript -->
                </tbody>
            </table>
            <div id="noResults" class="no-results" style="display: none;">
                <div class="no-results-icon">üîç</div>
                <div>No se encontraron proyectos con los filtros seleccionados</div>
            </div>
        </div>
    </div>
    
    <script>
        // Data from the backlog
        const backlogData = [
            // Q1
            { roadmap: "Q1", tipo: "Nuevo", micro: "Desarrollo", modulo: "Matriz", funcionalidad: "Vincular con consolidaci√≥n de perfil", valor: "Mid-market", esfuerzo: 1, prioridad: 4.0, resumen: "Vincular autom√°ticamente la matriz de potencial 9-box con los resultados de evaluaciones, poblando el eje de desempe√±o desde la nota global y permitiendo introducir potencial directamente desde la consolidaci√≥n del perfil." },
            { roadmap: "Q1", tipo: "Nuevo", micro: "Desarrollo", modulo: "Consolidacion", funcionalidad: "Considerar nota del PDI del periodo anterior", valor: "Mid-market", esfuerzo: 1, prioridad: 4.0, resumen: "Integrar la evaluaci√≥n del cumplimiento del PDI anterior en el proceso de consolidaci√≥n del per√≠odo actual, incluyendo visibilidad en matriz competencial, y resolver la gesti√≥n de per√≠odos simult√°neos para cierre de a√±o/apertura del siguiente." },
            { roadmap: "Q1", tipo: "Mejora", micro: "Desarrollo", modulo: "Evaluaciones", funcionalidad: "Mejoras UX/UI - Resumen gr√°fico resultados", valor: "UX", esfuerzo: 1, prioridad: 3.0, resumen: "Mejorar la experiencia de usuario en evaluaciones de competencias mediante mejor legibilidad de contenidos, navegaci√≥n optimizada, configuraci√≥n flexible de comentarios y preguntas abiertas personalizables, y controles de obligatoriedad." },
            { roadmap: "Q1", tipo: "Mejora", micro: "Desarrollo", modulo: "Informes", funcionalidad: "Completar informes con campos de contexto", valor: "Operativo", esfuerzo: 1, prioridad: 3.0, resumen: "A√±adir campos de contexto y filtros adicionales a todos los informes del m√≥dulo de competencias para permitir an√°lisis y explotaci√≥n de datos sin herramientas externas." },
            { roadmap: "Q1", tipo: "Mejora", micro: "Desarrollo", modulo: "Consolidacion", funcionalidad: "Mejoras UX", valor: "UX", esfuerzo: 1, prioridad: 3.0, resumen: "Mejorar la experiencia de usuario y funcionalidades de la consolidaci√≥n con perspectiva temporal completa (pasado, presente, futuro), incorporando hist√≥rico, gr√°ficos, conexi√≥n con matriz 9-box y transici√≥n fluida al plan de desarrollo." },
            { roadmap: "Q1", tipo: "UX", micro: "Transversal", modulo: "Filtros", funcionalidad: "Revisi√≥n - Toolbar, cache, Design system", valor: "Operativo", esfuerzo: 2, prioridad: 1.5, resumen: "Base de dise√±o transversal para todo el m√≥dulo de talento." },
            { roadmap: "Q1", tipo: "Nuevo", micro: "Formaci√≥n", modulo: "Analytics", funcionalidad: "Dashboards", valor: "Desarrollo continuo", esfuerzo: 3, prioridad: 1.67, resumen: "Dashboards de formaci√≥n con visibilidad de skill gaps, inversi√≥n y efectividad de acciones formativas." },
            
            // Q2
            { roadmap: "Q2", tipo: "Nuevo", micro: "Desarrollo", modulo: "Consolidacion", funcionalidad: "Nota global", valor: "Mid-market", esfuerzo: 1, prioridad: 3.0, resumen: "Calcular y mostrar nota global autom√°tica en evaluaciones de competencias, integraci√≥n con informaci√≥n de desempe√±o y desarrollo, y conexi√≥n con m√≥dulo de objetivos para decisiones de bonus y promoci√≥n." },
            { roadmap: "Q2", tipo: "Nuevo", micro: "Desarrollo", modulo: "Desarrollo continuo", funcionalidad: "Diario de feedback 1.1", valor: "Desarrollo continuo", esfuerzo: 3, prioridad: 1.67, resumen: "Espacio de registro continuo de feedback, logros, observaciones y seguimiento de desarrollo para empleados y managers, proporcionando evidencias concretas para evaluaciones anuales y continuidad entre per√≠odos." },
            { roadmap: "Q2", tipo: "Nuevo", micro: "Comunicaci√≥n", modulo: "Encuestas", funcionalidad: "Survey assistant AI", valor: "IA", esfuerzo: 4, prioridad: 1.0, resumen: "Asistente de IA para creaci√≥n y an√°lisis de encuestas de evaluaci√≥n, facilitando configuraci√≥n y extrayendo insights autom√°ticos." },
            { roadmap: "Q2", tipo: "Mejora", micro: "Desarrollo", modulo: "PDI", funcionalidad: "Estados y evaluaci√≥n", valor: "Desarrollo continuo", esfuerzo: 2, prioridad: 1.5, resumen: "Sistema de seguimiento de estados del PDI a lo largo del a√±o, con evaluaci√≥n de progreso y alertas de cumplimiento." },
            { roadmap: "Q2", tipo: "Mejora", micro: "Comunicaci√≥n", modulo: "Periodo", funcionalidad: "Recordatorios y notificaciones", valor: "Desarrollo continuo", esfuerzo: 2, prioridad: 2.0, resumen: "Sistema de notificaciones, alertas y automatizaciones para facilitar el seguimiento del per√≠odo, garantizando plazos y comunicaci√≥n de resultados." },
            { roadmap: "Q2", tipo: "Nuevo", micro: "Formaci√≥n", modulo: "Analytics", funcionalidad: "Presupuestos", valor: "Operativo", esfuerzo: 2, prioridad: 1.5, resumen: "Gesti√≥n de presupuestos de formaci√≥n con tracking de inversi√≥n, asignaci√≥n por departamento y an√°lisis de ROI." },
            
            // Q3
            { roadmap: "Q3", tipo: "Mejora", micro: "Desarrollo", modulo: "Periodo", funcionalidad: "Flexibilidad snapshot de competencias", valor: "Operativo", esfuerzo: 3, prioridad: 1.67, resumen: "Mejorar la gesti√≥n de snapshots de cat√°logos en per√≠odos de evaluaci√≥n, permitiendo ajustes sin perder progreso y visibilidad sobre la versi√≥n del cat√°logo se est√° utilizando. Implementado justo a tiempo para proceso de evaluaci√≥n diciembre 2026." },
            { roadmap: "Q3", tipo: "Nuevo", micro: "Desarrollo", modulo: "Evaluaciones", funcionalidad: "Feedback AI assistant", valor: "IA", esfuerzo: 4, prioridad: 1.0, resumen: "Asistente de IA para managers que ayuda a formular feedback constructivo y espec√≠fico durante evaluaciones." },
            { roadmap: "Q3", tipo: "Nuevo", micro: "Comunicaci√≥n", modulo: "Encuestas", funcionalidad: "Configuraci√≥n encuestas", valor: "Mid-market", esfuerzo: 2, prioridad: 1.5, resumen: "Flexibilizar la configuraci√≥n de cuestionarios de evaluaci√≥n para permitir formatos personalizados m√°s all√° del modelo est√°ndar de competencias, incluyendo preguntas de texto libre y escalas." },
            { roadmap: "Q3", tipo: "Nuevo", micro: "Desarrollo", modulo: "Periodo", funcionalidad: "Dashboards Manager/Equipo", valor: "Desarrollo continuo", esfuerzo: 3, prioridad: 1.67, resumen: "Vista agregada para managers con m√©tricas de su equipo: distribuci√≥n de evaluaciones, progreso PDIs, skill gaps identificados." },
            { roadmap: "Q3", tipo: "Mejora", micro: "Desarrollo", modulo: "Desarrollo continuo", funcionalidad: "Vinculaci√≥n diario de feedback con Consolidaci√≥n", valor: "Desarrollo continuo", esfuerzo: 2, prioridad: 1.5, resumen: "Integraci√≥n autom√°tica del diario de feedback en el proceso de consolidaci√≥n de perfil, mostrando hitos y feedback del a√±o." },
            { roadmap: "Q3", tipo: "Mejora", micro: "Desarrollo", modulo: "Periodo", funcionalidad: "Asignaci√≥n de evaluadores", valor: "Operativo", esfuerzo: 2, prioridad: 1.5, resumen: "Facilitar la asignaci√≥n de evaluadores en per√≠odos de evaluaci√≥n con configuraci√≥n masiva y reglas automatizadas." },
            { roadmap: "Q3", tipo: "Mejora", micro: "Desarrollo", modulo: "Periodo", funcionalidad: "Configuraci√≥n de per√≠odo", valor: "Operativo", esfuerzo: 2, prioridad: 1.5, resumen: "Mejoras en UX de configuraci√≥n de per√≠odos: templates, clonaci√≥n, validaciones preventivas." },
            
            // Q4
            { roadmap: "Q4", tipo: "Nuevo", micro: "Desarrollo", modulo: "PDI", funcionalidad: "PDI AI Assistant - Metas y acciones", valor: "IA", esfuerzo: 4, prioridad: 1.25, resumen: "Asistente de IA que ayuda a empleados y managers a definir metas SMART y acciones concretas de desarrollo en el PDI." },
            { roadmap: "Q4", tipo: "Nuevo", micro: "Comunicaci√≥n", modulo: "Desarrollo continuo", funcionalidad: "Kudos/Peer to Peer", valor: "Desarrollo continuo", esfuerzo: 3, prioridad: 1.0, resumen: "Sistema de reconocimiento entre compa√±eros con kudos, badges y visualizaci√≥n de contribuciones al equipo." },
            { roadmap: "Q4", tipo: "UX", micro: "Desarrollo", modulo: "Desarrollo continuo", funcionalidad: "Redise√±o Consolidaci√≥n", valor: "Desarrollo continuo", esfuerzo: 3, prioridad: 1.67, resumen: "Integrar m√∫ltiples encuestas/evaluaciones dentro de un mismo per√≠odo con consolidaci√≥n autom√°tica de resultados, visualizaci√≥n de evoluci√≥n temporal, y soporte para mid-year reviews y evaluaciones parciales. Incorpora diarios y encuestas del a√±o." },
        ];
        
        let filteredData = [...backlogData];
        let sortColumn = null;
        let sortDirection = 'asc';
        
        function renderTable(data) {
            const tbody = document.getElementById('tableBody');
            const noResults = document.getElementById('noResults');
            
            if (data.length === 0) {
                tbody.innerHTML = '';
                noResults.style.display = 'block';
                return;
            }
            
            noResults.style.display = 'none';
            
            tbody.innerHTML = data.map(item => `
                <tr>
                    <td><span class="tipo-tag tipo-${item.tipo.toLowerCase().replace(' ', '-')}">${item.tipo}</span></td>
                    <td><span class="modulo-tag">${item.micro}</span></td>
                    <td><span class="modulo-tag">${item.modulo}</span></td>
                    <td><strong>${item.funcionalidad}</strong></td>
                    <td><span class="tag ${item.roadmap.toLowerCase()}">${item.roadmap}</span></td>
                    <td>
                        ${getValorBadge(item.valor)}
                    </td>
                    <td><div class="resumen">${item.resumen || '-'}</div></td>
                    <td style="text-align: center;">${item.esfuerzo}</td>
                    <td>
                        <div class="prioridad-bar">
                            <div class="prioridad-fill" style="width: ${(item.prioridad / 5) * 100}%"></div>
                        </div>
                        <div class="prioridad-value">${item.prioridad.toFixed(2)}</div>
                    </td>
                </tr>
            `).join('');
            
            updateStats(data.length);
        }
        
        function getValorBadge(valor) {
            if (valor === "Mid-market" || valor === "Operativo") {
                return `<span class="tipo-tag tipo-mejora">${valor}</span>`;
            }
            if (valor === "UX") {
                return `<span class="tipo-tag tipo-ux">${valor}</span>`;
            }
            if (valor === "IA") {
                return `<span class="tipo-tag tipo-nuevo">${valor}</span>`;
            }
            if (valor === "Desarrollo continuo") {
                return `<span class="modulo-tag">${valor}</span>`;
            }
            
            const numValor = parseInt(valor);
            if (!isNaN(numValor)) {
                return `<span class="valor-badge valor-${numValor}">${numValor}</span>`;
            }
            return valor;
        }
        
        function updateStats(filteredCount) {
            document.getElementById('totalCount').textContent = backlogData.length;
            document.getElementById('filteredCount').textContent = filteredCount;
        }
        
        function applyFilters() {
            const quarterFilter = document.getElementById('quarterFilter').value;
            const tipoFilter = document.getElementById('tipoFilter').value;
            const microFilter = document.getElementById('microFilter').value;
            const moduloFilter = document.getElementById('moduloFilter').value;
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            
            filteredData = backlogData.filter(item => {
                const matchesQuarter = !quarterFilter || item.roadmap === quarterFilter;
                const matchesTipo = !tipoFilter || item.tipo === tipoFilter;
                const matchesMicro = !microFilter || item.micro === microFilter;
                const matchesModulo = !moduloFilter || item.modulo === moduloFilter;
                const matchesSearch = !searchTerm || 
                    item.funcionalidad.toLowerCase().includes(searchTerm) ||
                    item.resumen.toLowerCase().includes(searchTerm);
                
                return matchesQuarter && matchesTipo && matchesMicro && matchesModulo && matchesSearch;
            });
            
            if (sortColumn) {
                sortData(sortColumn, sortDirection);
            } else {
                renderTable(filteredData);
            }
        }
        
        function clearFilters() {
            document.getElementById('quarterFilter').value = '';
            document.getElementById('tipoFilter').value = '';
            document.getElementById('microFilter').value = '';
            document.getElementById('moduloFilter').value = '';
            document.getElementById('searchInput').value = '';
            
            // Clear sorting
            document.querySelectorAll('th').forEach(th => {
                th.classList.remove('sorted-asc', 'sorted-desc');
            });
            sortColumn = null;
            sortDirection = 'asc';
            
            applyFilters();
        }
        
        function sortData(column, direction) {
            filteredData.sort((a, b) => {
                let aVal = a[column];
                let bVal = b[column];
                
                // Handle numeric values
                if (column === 'esfuerzo' || column === 'prioridad') {
                    aVal = parseFloat(aVal);
                    bVal = parseFloat(bVal);
                }
                
                // Handle string values
                if (typeof aVal === 'string') {
                    aVal = aVal.toLowerCase();
                    bVal = bVal.toLowerCase();
                }
                
                if (aVal < bVal) return direction === 'asc' ? -1 : 1;
                if (aVal > bVal) return direction === 'asc' ? 1 : -1;
                return 0;
            });
            
            renderTable(filteredData);
        }
        
        // Event listeners
        document.getElementById('quarterFilter').addEventListener('change', applyFilters);
        document.getElementById('tipoFilter').addEventListener('change', applyFilters);
        document.getElementById('microFilter').addEventListener('change', applyFilters);
        document.getElementById('moduloFilter').addEventListener('change', applyFilters);
        document.getElementById('searchInput').addEventListener('input', applyFilters);
        
        // Sorting
        document.querySelectorAll('th.sortable').forEach(th => {
            th.addEventListener('click', function() {
                const column = this.dataset.sort;
                
                if (sortColumn === column) {
                    sortDirection = sortDirection === 'asc' ? 'desc' : 'asc';
                } else {
                    sortColumn = column;
                    sortDirection = 'asc';
                }
                
                // Update UI
                document.querySelectorAll('th').forEach(th => {
                    th.classList.remove('sorted-asc', 'sorted-desc');
                });
                this.classList.add(`sorted-${sortDirection}`);
                
                sortData(column, sortDirection);
            });
        });
        
        // Initial render
        renderTable(backlogData);
    </script>
</body>
</html>
